<div class="container-flud">
    <mat-card class="main-card">
        <div class="row">
            <div class="col-12 mb-3" [ngClass]="{'text-right': isRtl}">
                <mat-icon class="bread-page-heading-icon">inventory_2</mat-icon>
                <span class="page-heading">{{ 'ARCHIVE' | translate }}</span>
            </div>
            <!-- <div class="col-12">
                <div class="row d-flex justify-content-center">
                    <div class="col-12 col-md-10 col-lg-8">
                        <div class="row"> -->
                            <div class="col-12 col-lg-4 col-xl-3">
                                <mat-form-field class="w-100" [ngClass]="{'text-right': isRtl}">
                                    <mat-label [ngClass]="isRtl ? 'main-label-rtl' : 'main-label'">
                                        {{ 'TITLE' | translate }}
                                    </mat-label>
                                    <input matInput [(ngModel)]="obsTitle">
                                </mat-form-field>
                            </div>
                            <div class="col-12 col-sm-6 col-lg-3 col-xl-2">
                                <mat-form-field class="w-100" [ngClass]="{'text-right': isRtl}">
                                    <mat-label [ngClass]="isRtl ? 'main-label-rtl' : 'main-label'">
                                        {{ 'YEAR' | translate }}
                                    </mat-label>
                                    <mat-select [(value)]="selectedYear">
                                        <mat-option *ngFor="let year of years" [value]="year.value"
                                            [ngClass]="{'rtl-direction text-right': isRtl}">
                                            {{year.value}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-12 col-sm-6 col-lg-3 col-xl-2">
                                <mat-form-field class="w-100" [ngClass]="{'text-right': isRtl}">
                                    <mat-label [ngClass]="isRtl ? 'main-label-rtl' : 'main-label'">{{ 'CYCLE' |
                                        translate }}</mat-label>
                                    <mat-select [(value)]="selectedCycle">
                                        <mat-option *ngFor="let cycle of cycles" [value]="cycle.value"
                                            [ngClass]="{'rtl-direction text-right': isRtl}">
                                            {{cycle.value}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-12 col-lg-2">
                                <button class="search-btn b-blue c-white" mat-raised-button [ngClass]="{'float-right': isRtl}">
                                    {{ 'SEARCH' | translate }}
                                </button>
                                <button class="search-btn-mob b-blue c-white" mat-raised-button [ngClass]="isRtl ? 'float-left' : 'float-right'">
                                    {{ 'SEARCH' | translate }}
                                </button>
                            </div>
                        <!-- </div>
                    </div>
                </div>
            </div> -->
            <div class="col-12 p-0 mt-4 mb-2">
                <mat-divider></mat-divider>
            </div>
            <div class="col-4 col-sm-3 col-lg-2" [ngClass]="{'text-right': isRtl}">
                <label class="page-sub-title">{{ 'TITLE' | translate }}:</label>
            </div>
            <div class="col-8 col-sm-9 col-lg-10" [ngClass]="{'text-right': isRtl}">
                <span>ئي بالوقود المتعلقة الما</span>
            </div>
            <div class="col-4 col-sm-3 col-lg-2" [ngClass]="{'text-right': isRtl}">
                <label class="page-sub-title">{{ 'YEAR' | translate }}:</label>
            </div>
            <div class="col-8 col-sm-9 col-lg-10" [ngClass]="{'text-right': isRtl}">
                <span>2018-2019</span>
            </div>
            <!-- <div class="col-4 col-sm-3 col-lg-2" [ngClass]="{'text-right': isRtl}">
                <label class="page-sub-title">{{ 'CYCLE' | translate }}:</label>
            </div>
            <div class="col-8 col-sm-9 col-lg-10" [ngClass]="{'text-right': isRtl}">
                <span>SA1</span>
            </div> -->
            <div class="col-12 hide-tablet">
                <table mat-table [dataSource]="dataSource" [ngClass]="{'text-right': isRtl}">
                    <ng-container matColumnDef="cycle">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'CYCLE' | translate }} </th>
                        <td mat-cell *matCellDef="let element"> {{element.cycle}} </td>
                    </ng-container>
                    <ng-container matColumnDef="from">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'FROM' | translate }} </th>
                        <td mat-cell *matCellDef="let element"> {{element.from}} </td>
                    </ng-container>
                    <ng-container matColumnDef="to">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'TO' | translate }} </th>
                        <td mat-cell *matCellDef="let element"> {{element.to}} </td>
                    </ng-container>
                    <ng-container matColumnDef="stepName">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'STEP_NAME' | translate }} </th>
                        <td mat-cell *matCellDef="let element"> {{element.stepName}} </td>
                    </ng-container>
                    <ng-container matColumnDef="department">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'DEPARTMENT' | translate }} </th>
                        <td mat-cell *matCellDef="let element"> {{element.department}} </td>
                    </ng-container>
                    <ng-container matColumnDef="date">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'DATE' | translate }} </th>
                        <td mat-cell *matCellDef="let element"> {{element.date | date:'d/M/yyyy h:mm a'}} </td>
                    </ng-container>
                    <ng-container matColumnDef="attachment">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'ATTACHMENT' | translate }} </th>
                        <td mat-cell *matCellDef="let element">
                            <span *ngIf="element.attachment">
                                <mat-icon class="page-heading-icon">download</mat-icon>
                            </span>
                            <span *ngIf="!element.attachment">N/A</span>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="completionDate">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'COMPLETION_DATE' | translate }} </th>
                        <td mat-cell *matCellDef="let element"> {{element.completionDate | date:"yyyy"}} </td>
                    </ng-container>
                    <ng-container matColumnDef="adjustmentMadeOnBehalf">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'ADJUSTMENT_MADE_ON_BEHALF' | translate }} </th>
                        <td mat-cell *matCellDef="let element"> {{element.adjustmentMadeOnBehalf}} </td>
                    </ng-container>
                    <ng-container matColumnDef="GAndPAAttachment">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'GANDPA_ATTACHMENT' | translate }} </th>
                        <td mat-cell *matCellDef="let element"> {{element.GAndPAAttachment}} </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;" style="cursor: pointer;"></tr>
                </table>
            </div>
            <div class="col-12 hide-mob">
                <table mat-table [dataSource]="dataSource" [ngClass]="{'text-right': isRtl}">
                    <ng-container matColumnDef="cycle">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'CYCLE' | translate }} </th>
                        <td mat-cell *matCellDef="let element"> {{element.cycle}} </td>
                    </ng-container>
                    <ng-container matColumnDef="from">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'FROM' | translate }} </th>
                        <td mat-cell *matCellDef="let element"> {{element.from}} </td>
                    </ng-container>
                    <ng-container matColumnDef="to">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'TO' | translate }} </th>
                        <td mat-cell *matCellDef="let element"> {{element.to}} </td>
                    </ng-container>
                    <ng-container matColumnDef="department">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'DEPARTMENT' | translate }} </th>
                        <td mat-cell *matCellDef="let element"> {{element.department}} </td>
                    </ng-container>
                    <ng-container matColumnDef="date">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}">
                            {{ 'DATE' | translate }} </th>
                        <td mat-cell *matCellDef="let element"> {{element.date | date:'d/M/yyyy h:mm a'}} </td>
                    </ng-container>
                    <ng-container matColumnDef="attachment">
                        <th mat-header-cell *matHeaderCellDef [ngClass]="{'text-right': isRtl}"></th>
                        <td mat-cell *matCellDef="let element">
                            <span *ngIf="element.attachment">
                                <mat-icon class="page-heading-icon">download</mat-icon>
                            </span>
                            <span *ngIf="!element.attachment">N/A</span>
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumnsTablet; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumnsTablet;" style="cursor: pointer;"></tr>
                </table>
            </div>
            <div class="col-12 show-mob">
                <table mat-table [dataSource]="dataSource" [ngClass]="{'text-right': isRtl}" multiTemplateDataRows>
                    <ng-container matColumnDef="cycle">
                        <th mat-header-cell *matHeaderCellDef></th>
                        <td mat-cell *matCellDef="let element" class="title-td"> {{element.cycle}}
                            <span *ngIf="element.attachment" [ngClass]="isRtl ? 'attachment-rtl' : 'attachment'">
                                <mat-icon class="page-heading-icon">download</mat-icon>
                            </span>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="expandedDetail">
                        <td class="expanded-td" mat-cell *matCellDef="let element"
                            [attr.colspan]="displayedColumnsMob.length">
                            <div class="row" [ngClass]="isRtl ? 'expanded-div-rtl' : 'expanded-div'">
                                <div class="col-12 expanded-content">
                                    <span>{{ 'FROM' | translate }}:</span> {{element.from}}
                                </div>
                                <div class="col-12 expanded-content">
                                    <span>{{ 'TO' | translate }}:</span> {{element.to}}
                                </div>
                                <div class="col-12 expanded-content">
                                    <span>{{ 'DEPARTMENT' | translate }}:</span> {{element.department}}
                                </div>
                                <div class="col-12 expanded-content">
                                    <span>{{ 'DATE' | translate }}:</span> {{element.date | date:'d/M/yyyy h:mm a'}}
                                </div>
                            </div>
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumnsMob; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumnsMob;" style="cursor: pointer;"></tr>
                    <tr mat-row *matRowDef="let row; columns: ['expandedDetail']"></tr>
                </table>
            </div>
        </div>
    </mat-card>
</div>